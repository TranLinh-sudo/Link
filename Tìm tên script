--[[ 
    CÔNG CỤ QUÉT TÊN SCRIPT (NAME SCANNER)
    Chức năng: Liệt kê tên toàn bộ script đang chạy để tìm kẻ ẩn danh
]]

local LogContent = ""
local Count = 0

-- Thông báo bắt đầu
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "ĐANG QUÉT...",
    Text = "Vui lòng đợi, đang lập danh sách...",
    Duration = 3
})

print("\n========== BẮT ĐẦU QUÉT CORE GUI ==========")

-- 1. Quét trong CoreGui (Nơi các Hub thường trốn)
for _, v in pairs(game:GetService("CoreGui"):GetDescendants()) do
    if v:IsA("LocalScript") or v:IsA("ModuleScript") then
        Count = Count + 1
        local info = "[Script " .. Count .. "] CoreGui: " .. v:GetFullName()
        
        -- In ra Console F9
        print(info)
        
        -- Ghi vào bộ nhớ đệm
        LogContent = LogContent .. info .. "\n"
    end
end

-- 2. Quét trong Player (Đề phòng nó nằm trong nhân vật)
for _, v in pairs(game.Players.LocalPlayer:GetDescendants()) do
    if v:IsA("LocalScript") or v:IsA("ModuleScript") then
        Count = Count + 1
        local info = "[Script " .. Count .. "] Player: " .. v:GetFullName()
        print(info)
        LogContent = LogContent .. info .. "\n"
    end
end

print("========== KẾT THÚC QUÉT ==========\n")

-- 3. Lưu danh sách ra file để bạn đọc
writefile("DANH_SACH_TEN_SCRIPT.txt", LogContent)

-- Thông báo hoàn tất
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "XONG!",
    Text = "Đã lưu vào file: DANH_SACH_TEN_SCRIPT.txt",
    Duration = 10
})

