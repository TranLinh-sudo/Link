--[[ MOBILE DUMPER - LƯU FILE VÀO WORKSPACE ]]

-- Từ khóa: Mã mời Discord của Teddy Hub
local SearchKey = "2YCGftRB"

game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "ĐANG QUÉT...",
    Text = "Đang tìm và lưu file...",
    Duration = 3
})

local function SaveToFile(scriptName, content)
    -- Tạo tên file đẹp, dễ tìm
    local fileName = "TEDDY_HUB_SOURCE.txt"
    
    -- Lệnh lưu file vào bộ nhớ của Executor
    writefile(fileName, content)
    
    -- Thông báo thành công
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "ĐÃ LƯU FILE!",
        Text = "Tên file: " .. fileName,
        Duration = 10
    })
    
    -- Tạo bảng thông báo trên màn hình cho chắc ăn
    local sg = Instance.new("ScreenGui", game.CoreGui)
    local fr = Instance.new("Frame", sg)
    fr.Size = UDim2.new(0, 300, 0, 150)
    fr.Position = UDim2.new(0.5, -150, 0.3, 0)
    fr.BackgroundColor3 = Color3.fromRGB(0, 170, 0) -- Màu xanh lá đậm
    
    local txt = Instance.new("TextLabel", fr)
    txt.Size = UDim2.new(1,0,1,0)
    txt.BackgroundTransparency = 1
    txt.TextColor3 = Color3.new(1,1,1)
    txt.TextSize = 18
    txt.Font = Enum.Font.SourceSansBold
    txt.TextWrapped = true
    txt.Text = "✅ THÀNH CÔNG!\n\nĐã lưu file: " .. fileName .. "\n\nVào thư mục 'Workspace' của Executor để lấy!"
    
    -- Nút đóng
    local close = Instance.new("TextButton", fr)
    close.Size = UDim2.new(0, 30, 0, 30)
    close.Position = UDim2.new(1, -30, 0, 0)
    close.BackgroundColor3 = Color3.new(1,0,0)
    close.Text = "X"
    close.MouseButton1Click:Connect(function() sg:Destroy() end)
end

local function TryDump(v)
    if v:IsA("LocalScript") or v:IsA("ModuleScript") then
        local success, code = pcall(function() return decompile(v) end)
        if success and string.find(code, SearchKey) then
            SaveToFile(v.Name, code)
            return true
        end
    end
    return false
end

-- Quét CoreGui
local found = false
for _, v in pairs(game:GetService("CoreGui"):GetDescendants()) do
    if TryDump(v) then found = true; break end
end

-- Quét Player
if not found then
    for _, v in pairs(game.Players.LocalPlayer:GetDescendants()) do
        if TryDump(v) then found = true; break end
    end
end

if not found then
    game:GetService("StarterGui"):SetCore("SendNotification", {Title="THẤT BẠI", Text="Không tìm thấy script!", Duration=5})
end
